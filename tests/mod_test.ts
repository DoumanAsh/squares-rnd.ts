import { assertEquals } from "@std/assert";
import { KEY, rand32, rand64 } from "./../src/mod.ts";

Deno.test(function should_verify_rand32() {
    const values = [
        3352654702,
        4074910648,
        2177904447,
        3591997784,
        309172526,
        14118540,
        1376456388,
        1817611776,
        2658708129,
        3816631332,
        2074957304,
        1197607180,
        3382851809,
        4630807,
        969366713,
        1214429827,
        1551357583,
        964614781,
        885797288,
        228455009,
        3795099028,
        2846967822,
        860132314,
        2417913545,
        549388739,
        1054086960,
        3198953764,
        1017529211,
        4071162903,
        1860614063,
        976680366,
        2474148318,
        2555832691,
        5746874,
        2213997678,
        4127664552,
        1824987508,
        2003555489,
        669285426,
        1956273251,
        1331312278,
        384168544,
        767219735,
        1703125500,
        1151964577,
        1451362376,
        786830311,
        3007546033,
        1978998827,
        3677699848,
        1875248042,
        3251648427,
        2883285475,
        1388411661,
        3702855681,
        1686575763,
        3869385310,
        1786705876,
        1811588117,
        1271892253,
        3435479074,
        2806725047,
        1987296021,
        4264790073,
        3869965352,
        1668365357,
        1992522618,
        2590424441,
        2063541441,
        1566680018,
        3094852598,
        3288611027,
        2142634010,
        2479402868,
        775827867,
        3363128138,
        2433828005,
        3871725313,
        453889514,
        2016441173,
        404358135,
        4200715467,
        3466728357,
        2124499209,
        3091969433,
        4224907557,
        3597787665,
        944831321,
        247498744,
        1409630787,
        956022842,
        913395360,
        951808902,
        1301972083,
        335847163,
        2543114637,
        1852668585,
        4090590393,
        2745796757,
        727871298,
    ];
    values.forEach((expected, idx) => {
        const result = rand32(BigInt(idx), KEY);
        assertEquals(result, expected);
    })
});

Deno.test(function should_verify_rand64() {
    const values = [
        14399542303155484263n,
        17501607969359464034n,
        9354028374942533382n,
        15427513012393281532n,
        1327885891373351147n,
        60638670215810043n,
        5911835172535428600n,
        7806583138883068395n,
        11419064466034786357n,
        16392306754029120696n,
        8911873762093407361n,
        5143683672172701690n,
        14529237890604122752n,
        19889166102031785n,
        4163398334406911152n,
        5215936393198264659n,
        6663030086176828147n,
        4142988939815573669n,
        3804470384634822310n,
        981206793566959392n,
        16299826212061670494n,
        12227633688552008664n,
        3694240162244720062n,
        10384859601573002243n,
        2359606668987345604n,
        4527269021397652637n,
        13739401801815258063n,
        4370254686731437278n,
        17485511525953148642n,
        7991276553396556667n,
        4194810233081806530n,
        10626386112989138509n,
        10977217822832889495n,
        24682639439007289n,
        9509047622910815416n,
        17728184262025808435n,
        7838261665743942276n,
        8605205304630665208n,
        2874559017119030751n,
        8402129636376629661n,
        5717942698132331305n,
        1649991336016897064n,
        3295183672220509950n,
        7314868326649166118n,
        4947650188088540507n,
        6233553940330143969n,
        3379410454493317030n,
        12917311855428041199n,
        8499735244970525920n,
        15795600574330558527n,
        8054129013612082032n,
        13965723653650379501n,
        12383616822729305560n,
        5963182679409556272n,
        15903644052678103379n,
        7243787744618625032n,
        16618883363856591479n,
        7673843308844980174n,
        7780711718399524232n,
        5462735632226813910n,
        14755270269289560618n,
        12054792288415653926n,
        8535371421003719263n,
        18317133887998968270n,
        16621374626717847180n,
        7165574647168350039n,
        8557819483486794023n,
        11125788260570175986n,
        8862843003249831367n,
        6728839444092422614n,
        13292290694420989225n,
        14124476813394813502n,
        9202543002727219547n,
        10648954232663981208n,
        3332155316792614203n,
        14444525369156352631n,
        10453211686892771026n,
        16628933598458950702n,
        1949440621185508190n,
        8660548895303310226n,
        1736704969262069192n,
        18041935551059624115n,
        14889484920543723135n,
        9124654623922895816n,
        13279907595754884703n,
        18145839787438662779n,
        15452380362066314963n,
        4058019627408702579n,
        1062999014878645618n,
        6054318132808991276n,
        4106086844527938010n,
        3923003203613301236n,
        4087988107706547008n,
        5591927520822166873n,
        1442452585074274494n,
        10922594199957697924n,
        7957150986473910430n,
        17568951962841284160n,
        11793107274449697652n,
        3126183424824572504n,
    ];
    values.forEach((expected, idx) => {
        const result = rand64(BigInt(idx), KEY);
        assertEquals(result, expected);
    })
});
